---
output: github_document
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# dtlg

<!-- badges: start -->
  [![R-CMD-check](https://github.com/AscentSoftware/dtlg/actions/workflows/R-CMD-check.yaml/badge.svg)](https://github.com/AscentSoftware/dtlg/actions/workflows/R-CMD-check.yaml)
  <!-- badges: end -->

The goal of dtlg is to create pharmaceutical tables, listings and graphs for use
at scale by utilising data.table as a back-end for processing. Currently only
tables can be created but the functions should encompass a large number of
possibilities for pharma tables.

The package was created using TLGcatalog to create examples.

Advance formatting options to follow in future.

## Installation

You can install the development version of `{dtlg}` from
[GitHub](https://github.com/) with:

``` r
# install.packages("pak")
pak::pak("AscentSoftware/dtlg")
```

## Example

Creating an AET01 table:

```{r}
library(dtlg)

head(adsl[, c("USUBJID", "ARM")])

head(aesi[, c("USUBJID", "ARM", "FATAL")])

AET01 <-
  AET01_table(
    adsl = adsl,
    adae = aesi,
    patient_var = "USUBJID",
    treat_var = "ARM",
    aesi_vars = c("FATAL", "SER", "SERWD", "SERDSM", "RELSER",
                  "WD", "DSM", "REL", "RELWD", "RELDSM", "SEV")
  )

AET01[, stats := strtrim(stats, 35)][]
```

